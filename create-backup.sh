#!/bin/bash

# Bruno Token App - Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð±ÑÐºÐ°Ð¿Ð°
# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: ./create-backup.sh [Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ]

echo "ðŸ’¾ Bruno Token App - Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð±ÑÐºÐ°Ð¿Ð°"
echo "====================================="

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¿Ð°Ð¿ÐºÑƒ Ð´Ð»Ñ Ð±ÑÐºÐ°Ð¿Ð°
BACKUP_DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="backups/$BACKUP_DATE"
mkdir -p "$BACKUP_DIR"

echo "ðŸ“ Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð±ÑÐºÐ°Ð¿ Ð²: $BACKUP_DIR"

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ñ„Ð°Ð¹Ð»Ñ‹
echo "ðŸ”„ ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ frontend..."
cp -r frontend "$BACKUP_DIR/"

echo "ðŸ”„ ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ backend..."
cp -r backend "$BACKUP_DIR/"

echo "ðŸ”„ ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ..."
cp -r *.md "$BACKUP_DIR/" 2>/dev/null || true

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ñ„Ð°Ð¹Ð» Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÐµÐ¹ Ð¾ Ð±ÑÐºÐ°Ð¿Ðµ
cat > "$BACKUP_DIR/backup-info.txt" << EOF
Bruno Token App - Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð±ÑÐºÐ°Ð¿Ðµ
=====================================
Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ: $(date)
ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ: $1
ÐÐ²Ñ‚Ð¾Ñ€: Cursor AI Assistant

Ð¡Ð¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:
- Frontend: Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
- Backend: Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
- Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…: ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð°
- ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ: Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:
- Email: test@test.com
- Password: test1234
EOF

echo "âœ… Ð‘ÑÐºÐ°Ð¿ ÑÐ¾Ð·Ð´Ð°Ð½ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾!"
echo "ðŸ“ ÐŸÑƒÑ‚ÑŒ: $BACKUP_DIR"
echo "ðŸš€ Ð”Ð»Ñ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ: ./restore-backup.sh $BACKUP_DATE"
